{"componentChunkName":"component---src-templates-project-details-js","path":"/projects/crop-stats-model/","result":{"data":{"markdownRemark":{"html":"<h2>Preparing the 20th Century Food Crop Statistics Dataset for Decision Tree Regression</h2>\n<h4>Github: <a href=\"https://github.com/Walid-Birouk/20th-century-crop-stats\">Repository.</a></h4>\n<h2><span>Ⅰ.</span> Introduction</h2>\n<p>In this guide, we explore the detailed process of preparing the 20th-century food crop statistics dataset for analysis with a Decision Tree Regressor model. This dataset, encompassing crop statistics from 1900 to 2017, provides a rich historical view of agricultural productivity across different regions and crops. The preparation involved cleaning, imputing missing values, feature engineering, and ensuring data integrity to make it suitable for machine learning applications. Here’s a detailed breakdown of what was done and why.</p>\n<h2><span>Ⅱ.</span> Data Cleaning and Preparation</h2>\n<h3>Initial Steps</h3>\n<p>The process began with loading the dataset from an Excel file, <code>food-twentieth-century-crop-statistics-1900-2017-xlsx.xlsx</code>, using the pandas library. This initial step is crucial for accessing and manipulating the data efficiently.</p>\n<h3>Cleaning and Renaming</h3>\n<p>Redundant and empty columns, such as 'Unnamed: 0', 'year', and 'admin2', were identified and removed to streamline the dataset. The column 'admin0' was renamed to 'country' for clarity and consistency with common naming conventions.</p>\n<h3>Handling China-specific Data</h3>\n<p>Data related to China required special attention due to its unique administrative divisions and notes. The 'notes' column, when not null, was used to update the 'admin1' column for China-specific rows, enhancing the granularity and accuracy of the location data.</p>\n<h3>Imputing Missing Values</h3>\n<p>For regions where 'admin1' was missing, a new value combining \"Unknown\" with the country name was created. This approach ensures that each entry has a complete set of location identifiers, improving the dataset's usability for regional analysis.</p>\n<h3>Filtering and Expanding Data</h3>\n<p>The dataset was filtered to include only the years from 1930 to 2017, focusing on a period of significant agricultural development and data availability. To address gaps in the data, a comprehensive range of years for each country-region-crop combination was created, ensuring a consistent time series for analysis.</p>\n<h3>Replacing Zero Values</h3>\n<p>Zero values in 'hectares (ha)', 'production (tonnes)', and 'yield(tonnes/ha)' were replaced with calculated values where appropriate. This step is critical for maintaining the integrity of the dataset, as zero values can significantly impact the accuracy of regression models.</p>\n<h3>Handling Specific Crops</h3>\n<p>Separate dataframes for cereals, maize, and wheat were created and processed to ensure that each crop's unique characteristics and data discrepancies were adequately addressed. For example, wheat data was corrected to include production values for 'wheat' where only 'winter wheat' or 'spring wheat' were recorded, ensuring a comprehensive representation of wheat production.</p>\n<h3>Filtering Regions with Excessive Zero Values</h3>\n<p>Regions with more than 50% of records containing zero values for production, hectares, and yield were identified and filtered out. This approach helps to focus the analysis on regions with reliable data, improving the model's predictive accuracy.</p>\n<h3>Linear Interpolation and Filling Missing Values</h3>\n<p>Linear interpolation followed by forward and backward filling was applied within each group of 'country' and 'admin1'. This methodological approach to imputing missing values preserves the temporal trends in the data, essential for time-series analysis in agriculture.</p>\n<h3>Final Adjustments</h3>\n<p>The datasets for maize, cereals, and wheat were concatenated into one, and zero values were replaced with NaN for 'production (tonnes)' and 'hectares (ha)' to prepare for final imputation. Yield values that were zero were recalculated to ensure consistency across the dataset.</p>\n<h2><span>Ⅲ.</span> Conclusion</h2>\n<p>The preparation of the 20th-century food crop statistics dataset involved a series of meticulous steps designed to enhance the dataset's quality and suitability for machine learning models, specifically a Decision Tree Regressor. By cleaning the data, imputing missing values, and ensuring consistency across different crops and regions, we've laid a solid foundation for analyzing agricultural trends and predicting future productivity. The final dataset, saved as <code>FINAL.csv</code>, is now ready for in-depth analysis and modeling, promising insights into the factors driving crop production over the last century.</p>","frontmatter":{"title":"Crop Production EDA & ML","stack":"Pandas & Numpy & Seaborn","images":[{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8d8a8","images":{"fallback":{"src":"/static/e1e6d07717136472fadda9436a9dd05e/77779/crop0.png","srcSet":"/static/e1e6d07717136472fadda9436a9dd05e/63619/crop0.png 448w,\n/static/e1e6d07717136472fadda9436a9dd05e/bffbd/crop0.png 896w,\n/static/e1e6d07717136472fadda9436a9dd05e/77779/crop0.png 1792w","sizes":"(min-width: 1792px) 1792px, 100vw"},"sources":[{"srcSet":"/static/e1e6d07717136472fadda9436a9dd05e/c9dbf/crop0.webp 448w,\n/static/e1e6d07717136472fadda9436a9dd05e/7112f/crop0.webp 896w,\n/static/e1e6d07717136472fadda9436a9dd05e/fb23b/crop0.webp 1792w","type":"image/webp","sizes":"(min-width: 1792px) 1792px, 100vw"}]},"width":1792,"height":1024}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#c8f8c8","images":{"fallback":{"src":"/static/c376f95b3f233ab8bc95b0c71f4699d0/f19d6/crop1.png","srcSet":"/static/c376f95b3f233ab8bc95b0c71f4699d0/e5e91/crop1.png 397w,\n/static/c376f95b3f233ab8bc95b0c71f4699d0/e4790/crop1.png 795w,\n/static/c376f95b3f233ab8bc95b0c71f4699d0/f19d6/crop1.png 1589w","sizes":"(min-width: 1589px) 1589px, 100vw"},"sources":[{"srcSet":"/static/c376f95b3f233ab8bc95b0c71f4699d0/26665/crop1.webp 397w,\n/static/c376f95b3f233ab8bc95b0c71f4699d0/5b9f2/crop1.webp 795w,\n/static/c376f95b3f233ab8bc95b0c71f4699d0/67074/crop1.webp 1589w","type":"image/webp","sizes":"(min-width: 1589px) 1589px, 100vw"}]},"width":1589,"height":589}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/6bdb431e083318c53b4bc9303cd4247c/5b1c8/crop2.png","srcSet":"/static/6bdb431e083318c53b4bc9303cd4247c/e5e91/crop2.png 397w,\n/static/6bdb431e083318c53b4bc9303cd4247c/47e8d/crop2.png 794w,\n/static/6bdb431e083318c53b4bc9303cd4247c/5b1c8/crop2.png 1588w","sizes":"(min-width: 1588px) 1588px, 100vw"},"sources":[{"srcSet":"/static/6bdb431e083318c53b4bc9303cd4247c/26665/crop2.webp 397w,\n/static/6bdb431e083318c53b4bc9303cd4247c/17e5f/crop2.webp 794w,\n/static/6bdb431e083318c53b4bc9303cd4247c/d843e/crop2.webp 1588w","type":"image/webp","sizes":"(min-width: 1588px) 1588px, 100vw"}]},"width":1588,"height":589}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/25fd13f3ba0f70d6bd9895576b3103d0/71b3f/crop3.png","srcSet":"/static/25fd13f3ba0f70d6bd9895576b3103d0/785d6/crop3.png 372w,\n/static/25fd13f3ba0f70d6bd9895576b3103d0/4953f/crop3.png 744w,\n/static/25fd13f3ba0f70d6bd9895576b3103d0/71b3f/crop3.png 1487w","sizes":"(min-width: 1487px) 1487px, 100vw"},"sources":[{"srcSet":"/static/25fd13f3ba0f70d6bd9895576b3103d0/cbd15/crop3.webp 372w,\n/static/25fd13f3ba0f70d6bd9895576b3103d0/a7a7a/crop3.webp 744w,\n/static/25fd13f3ba0f70d6bd9895576b3103d0/defc2/crop3.webp 1487w","type":"image/webp","sizes":"(min-width: 1487px) 1487px, 100vw"}]},"width":1487,"height":690}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/efcd30f671c2b7b3f0801f1acfa67183/0e9af/crop4.png","srcSet":"/static/efcd30f671c2b7b3f0801f1acfa67183/161a4/crop4.png 372w,\n/static/efcd30f671c2b7b3f0801f1acfa67183/1720f/crop4.png 744w,\n/static/efcd30f671c2b7b3f0801f1acfa67183/0e9af/crop4.png 1487w","sizes":"(min-width: 1487px) 1487px, 100vw"},"sources":[{"srcSet":"/static/efcd30f671c2b7b3f0801f1acfa67183/ced9f/crop4.webp 372w,\n/static/efcd30f671c2b7b3f0801f1acfa67183/e1f5e/crop4.webp 744w,\n/static/efcd30f671c2b7b3f0801f1acfa67183/4706f/crop4.webp 1487w","type":"image/webp","sizes":"(min-width: 1487px) 1487px, 100vw"}]},"width":1487,"height":1190}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/b242f783fe0a970782e50bd69a2c5743/8e434/crop5.png","srcSet":"/static/b242f783fe0a970782e50bd69a2c5743/433bb/crop5.png 373w,\n/static/b242f783fe0a970782e50bd69a2c5743/93068/crop5.png 745w,\n/static/b242f783fe0a970782e50bd69a2c5743/8e434/crop5.png 1490w","sizes":"(min-width: 1490px) 1490px, 100vw"},"sources":[{"srcSet":"/static/b242f783fe0a970782e50bd69a2c5743/8ee0a/crop5.webp 373w,\n/static/b242f783fe0a970782e50bd69a2c5743/29b95/crop5.webp 745w,\n/static/b242f783fe0a970782e50bd69a2c5743/0c695/crop5.webp 1490w","type":"image/webp","sizes":"(min-width: 1490px) 1490px, 100vw"}]},"width":1490,"height":790}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/9ee1347bab9980036a3396101fb1ed25/9113d/crop6.png","srcSet":"/static/9ee1347bab9980036a3396101fb1ed25/a73d9/crop6.png 242w,\n/static/9ee1347bab9980036a3396101fb1ed25/8c5e8/crop6.png 483w,\n/static/9ee1347bab9980036a3396101fb1ed25/9113d/crop6.png 966w","sizes":"(min-width: 966px) 966px, 100vw"},"sources":[{"srcSet":"/static/9ee1347bab9980036a3396101fb1ed25/e0c02/crop6.webp 242w,\n/static/9ee1347bab9980036a3396101fb1ed25/4c101/crop6.webp 483w,\n/static/9ee1347bab9980036a3396101fb1ed25/2d4bc/crop6.webp 966w","type":"image/webp","sizes":"(min-width: 966px) 966px, 100vw"}]},"width":966,"height":790}}}]}}},"pageContext":{"slug":"crop-stats-model"}},"staticQueryHashes":["1732862183","1965041683"],"slicesMap":{}}